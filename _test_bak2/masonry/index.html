<!doctype html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>masonry</title>
	<script src="/-bwm/b-js/jquery/jquery-1.8.3.min.js"></script>
	<script src="masonry.pkgd.min.js"></script>
	<script src="/-/js/slider/swiper_4.4.1/swiper.min.js"></script>
</head>
<body>

<ul>
	<li>검색하니 .gutter-sizer를 calc로 주라고 한다.</li>
</ul>

<section>
	<style>
        html {overflow-y: scroll;}

        .wrap {max-width: 500px; margin: 0 auto;}

       .grid {display: flex; flex-wrap: wrap; justify-content: space-between; outline: solid 2px orange;}

        .grid-item {border: solid 3px gray; box-sizing: border-box; word-break: break-all; margin-bottom: 2%;
            width: 49%;
        }

        .gutter-sizer {width: 2%;}

        /*.grid-item {width: 24%;}
        .gutter-sizer {width: 1.35%;}*/
	</style>

	<h1>Document click append</h1>
	<div class="wrap">
		<section class="swiper_sec">
			<div class="swiper-container">
				<div class="swiper-wrapper">
					<?php
					for ($i = 0; $i < 10; $i++) {
						$h = rand(10, 80);
						?>
						<div class="swiper-slide">
							<div class="grid">
								<div class="grid-item">
									<div><?=$i + 1?></div>

									<? for ($i2 = 0; $i2 < $h; $i2++) {
										echo 'x';
									} ?>
								</div>
							</div>
						</div>
					<?php } ?>
					<div class="grid-sizer"></div>
					<div class="gutter-sizer"></div>
				</div>
			</div>
		</section>
	</div>

	<script>
		$(document).ready(function () {
			$('.grid').masonry({
				gutter: '.gutter-sizer',
				itemSelector: '.grid-item',
				columnWidth: '.grid-sizer',
				percentPosition: true
			});
		});

		$(document).on('click', function () {
			/*var v = $('.grid').html();
			$v = $(v);

			//$('.grid').append($v).masonry( 'appended', $v );

			$('.grid').append($v).masonry('appended', $v, true);
			$('.grid').masonry('reloadItems');*/
		});
	</script>

	<script>
		<?$swiper_sec = 'swiper_sec';?>
		
		/*$(function () {
			var swiper = new Swiper('.<?=$swiper_sec?> .swiper-container', {
				/!*spaceBetween: 14,*!/
				slidesPerGroup: 1,
				slidesPerView: 1,
			});
		});*/
	</script>
</section>

<!--<div class="grid">
	<?php
/*	for ($i = 0; $i < 10; $i++) {
		$h = rand(50, 300);
		*/ ?>
		<div class="grid-item" style="height: <? /*=$h*/ ?>px;"><? /*=$i+1*/ ?></div>
	<?php /*} */ ?>
</div>-->

</body>
</html>