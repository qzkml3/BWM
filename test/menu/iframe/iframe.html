<!doctype html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>iframe resizeIframe</title>
</head>
<body>

<iframe width="30%" onload="resizeIframe(this);" id="iframe-main-banner" src="banner.html" frameborder="no" scrolling="no"></iframe>
<script src="/res/js/jquery/jquery-1.8.3.min.js"></script>
<script>
function resizeIframe(ifm) {
		resizeIframe_trigger(ifm);
		$(ifm).css("transition", "all 1s");
		$(window).on("resize", function () {
			setTimeout(function () {
				resizeIframe_trigger(ifm);
			}, 500);
		});
		function resizeIframe_trigger(ifm) {
			var $ifm = $(ifm);
			var content_height = $ifm.contents().find("body").outerHeight(true);
			
			$ifm.height(content_height);
		}
	}
</script>

<div style="white-space: pre-line;">
	- iframe 안의 내용이 quirks모드일때는 body height가 100%로 잡혀서 커지는건 잡지만 작아지는건 못잡음
	
	- 가끔가다 적용 안될때가 있는데 setTimeout 주고 transition을 줘서 숨기지 말고 오히려 드러내면서 효과를 주면 더 좋은 방향인것 같다.
</div>
</body>
</html>